{% extends 'base.html.twig' %}

{% block title %}Hello TomController!{% endblock %}

{% block body %}

<div class="container">
    <h2 class="mt-4">Contactez-moi</h2>

    <div id="successAlert" class="alert alert-dismissible alert-success mt-3" style="display: none;">
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        <strong>Message envoyé !</strong> Vous avez envoyé votre message avec succès.
    </div>

    <div id="errorAlert" class="alert alert-dismissible alert-danger mt-3" style="display: none;">
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        <strong>Erreur !</strong> L'adresse e-mail doit contenir un '@'.
    </div>
    
    <form id="contactForm">
        <div class="form-group">
            <label for="email" class="form-label mt-4">Rentrer votre email</label>
            <div class="form-floating mb-3">
                <input type="email" class="form-control" id="email" placeholder="name@example.com">
                <label for="email">Adresse email</label>
            </div>
        </div>

        <div class="form-group">
            <label for="comment" class="form-label mt-4">Votre Commentaire :</label>
            <textarea class="form-control" id="comment" rows="3" style="height: 73px;"></textarea>
        </div>

        <div class="mt-3">
            <button type="button" id="submitBtn" class="btn btn-outline-primary">Envoyer</button>
            <button type="reset" class="btn btn-outline-secondary">Réinitialiser</button>
        </div>
    </form>

    
</div>

<script>
    document.getElementById('submitBtn').addEventListener('click', function() {
        var email = document.getElementById('email').value;
        var successAlert = document.getElementById('successAlert');
        var errorAlert = document.getElementById('errorAlert');

        if (email.includes('@')) {
            // Afficher l'alerte de succès
            successAlert.style.display = 'block';
            errorAlert.style.display = 'none';
        } else {
            // Afficher l'alerte d'erreur
            errorAlert.style.display = 'block';
            successAlert.style.display = 'none';
        }
    });
</script>
{% endblock %}
